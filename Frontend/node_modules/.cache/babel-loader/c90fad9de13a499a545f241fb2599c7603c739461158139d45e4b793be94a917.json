{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jaya\\\\OneDrive\\\\Desktop\\\\Project\\\\Frontend\\\\src\\\\components\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API from '../api';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n  const user = JSON.parse(localStorage.getItem('user') || 'null');\n  const [myBooks, setMyBooks] = useState([]);\n  useEffect(() => {\n    const fetchMyBooks = async () => {\n      const res = await API.get('/books', {\n        params: {\n          page: 1\n        }\n      });\n      setMyBooks(res.data.books.filter(b => b.addedBy === user.id || b.addedBy && b.addedBy._id === user.id));\n    };\n    if (user) fetchMyBooks();\n  }, []);\n  if (!user) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Please login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [user.name, \"'s Profile\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Email: \", user.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"My Books\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), myBooks.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No books added\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 32\n    }, this), myBooks.map(b => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/book/${b._id}`,\n        children: b.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this)\n    }, b._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"8wc9vn5jJtoTjIzNfctMpiB8w4E=\");\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","API","Link","jsxDEV","_jsxDEV","Profile","_s","user","JSON","parse","localStorage","getItem","myBooks","setMyBooks","fetchMyBooks","res","get","params","page","data","books","filter","b","addedBy","id","_id","children","fileName","_jsxFileName","lineNumber","columnNumber","name","email","length","map","className","to","title","_c","$RefreshReg$"],"sources":["C:/Users/Jaya/OneDrive/Desktop/Project/Frontend/src/components/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport API from '../api';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Profile() {\r\n  const user = JSON.parse(localStorage.getItem('user') || 'null');\r\n  const [myBooks, setMyBooks] = useState([]);\r\n\r\n  useEffect(()=> {\r\n    const fetchMyBooks = async () => {\r\n      const res = await API.get('/books', { params: { page:1 } });\r\n      setMyBooks(res.data.books.filter(b => b.addedBy === user.id || (b.addedBy && b.addedBy._id === user.id)));\r\n    };\r\n    if (user) fetchMyBooks();\r\n  }, []);\r\n\r\n  if (!user) return <div>Please login</div>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>{user.name}'s Profile</h2>\r\n      <div>Email: {user.email}</div>\r\n      <h3>My Books</h3>\r\n      {myBooks.length === 0 && <div>No books added</div>}\r\n      {myBooks.map(b => (\r\n        <div key={b._id} className=\"card\">\r\n          <Link to={`/book/${b._id}`}>{b.title}</Link>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,GAAG,MAAM,QAAQ;AACxB,SAASC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,MAAM,CAAC;EAC/D,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAE1CD,SAAS,CAAC,MAAK;IACb,MAAMe,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,MAAMC,GAAG,GAAG,MAAMd,GAAG,CAACe,GAAG,CAAC,QAAQ,EAAE;QAAEC,MAAM,EAAE;UAAEC,IAAI,EAAC;QAAE;MAAE,CAAC,CAAC;MAC3DL,UAAU,CAACE,GAAG,CAACI,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,KAAKhB,IAAI,CAACiB,EAAE,IAAKF,CAAC,CAACC,OAAO,IAAID,CAAC,CAACC,OAAO,CAACE,GAAG,KAAKlB,IAAI,CAACiB,EAAG,CAAC,CAAC;IAC3G,CAAC;IACD,IAAIjB,IAAI,EAAEO,YAAY,CAAC,CAAC;EAC1B,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACP,IAAI,EAAE,oBAAOH,OAAA;IAAAsB,QAAA,EAAK;EAAY;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAEzC,oBACE1B,OAAA;IAAAsB,QAAA,gBACEtB,OAAA;MAAAsB,QAAA,GAAKnB,IAAI,CAACwB,IAAI,EAAC,YAAU;IAAA;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC9B1B,OAAA;MAAAsB,QAAA,GAAK,SAAO,EAACnB,IAAI,CAACyB,KAAK;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC9B1B,OAAA;MAAAsB,QAAA,EAAI;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAChBlB,OAAO,CAACqB,MAAM,KAAK,CAAC,iBAAI7B,OAAA;MAAAsB,QAAA,EAAK;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EACjDlB,OAAO,CAACsB,GAAG,CAACZ,CAAC,iBACZlB,OAAA;MAAiB+B,SAAS,EAAC,MAAM;MAAAT,QAAA,eAC/BtB,OAAA,CAACF,IAAI;QAACkC,EAAE,EAAE,SAASd,CAAC,CAACG,GAAG,EAAG;QAAAC,QAAA,EAAEJ,CAAC,CAACe;MAAK;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAAC,GADpCR,CAAC,CAACG,GAAG;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEV,CACN,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAACxB,EAAA,CA3BuBD,OAAO;AAAAiC,EAAA,GAAPjC,OAAO;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}